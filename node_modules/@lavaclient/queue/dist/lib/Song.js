"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Song = void 0;
const lavaclient_1 = require("lavaclient");
class Song {
    constructor(track, requester) {
        this.track = typeof track === "string" ? track : track.track;
        this.requester = requester;
        const info = typeof track === "string"
            ? (0, lavaclient_1.decode)(track)
            : track.info;
        if (!info) {
            throw new Error("Unable to decode track hash.");
        }
        this.length = info.length;
        this.identifier = info.identifier;
        this.author = info.author;
        this.isStream = info.isStream;
        this.position = info.position;
        this.title = info.title;
        this.uri = info.uri;
        this.isSeekable = info.isSeekable;
        this.sourceName = info.sourceName;
    }
}
exports.Song = Song;
